---
import { getCollection } from "astro:content";

const experienceCollection = await getCollection("experience");
const renderedExperience = await Promise.all(
  experienceCollection.map(async (exp) => await exp.render())
);

const educationCollection = await getCollection("education");
const renderedEducation = await Promise.all(
  educationCollection.map(async (exp) => await exp.render())
);
---

<script></script>

<html lang="en">
  <head>
    <script
      src="https://kit.fontawesome.com/72b743c284.js"
      crossorigin="anonymous"
    ></script>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/assets/favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content={Astro.generator} />
    <style></style>
    <title>Vapor Dev</title>
  </head>
  <body>
    <div class="section">
      <div class="title_container blue_r">
        <h1>
          <span class="flicker_slow">Va</span>por<span class="flicker_fast"
            >&nbsp;De</span
          >v
        </h1>
        <h1 id="header_name">(<span>Alan</span>&nbsp;Rice)</h1>
      </div>
      <div class="social_container blue_border">
        <a
          class="social_icon flicker_fast"
          href="https://www.twitch.tv/vapor__dev"
          target="_blank"
        >
          <i class="fa-brands fa-twitch"></i>
        </a>
        <a
          class="social_icon flicker_fast"
          href="mailto:mail@alanrice.me"
          target="_blank"
        >
          <i class="fa-solid fa-envelope"></i>
        </a>
        <a
          class="social_icon flicker_slow"
          href="https://github.com/vaprdev"
          target="_blank"
        >
          <i class="fa-brands fa-github-alt"></i>
        </a>
        <a
          class="social_icon flicker_medium"
          href="https://www.linkedin.com/in/alanricecode"
          target="_blank"
        >
          <i class="fa-brands fa-linkedin"></i>
        </a>
        <a
          class="social_icon"
          href="https://twitter.com/vprdev"
          target="_blank"
        >
          <i class="fa-brands fa-twitter"></i>
        </a>
      </div>
    </div>
    <div class="section">
      <h2 class="flicker_slow">WORK</h2>

      {
        renderedExperience.map((exp) => (
          <div class="content blue_border">
            <exp.Content />
          </div>
        ))
      }
    </div>
    <div class="section">
      <h2>Education</h2>
      {
        renderedEducation.map((exp) => (
          <div class="content blue_border">
            <exp.Content />
          </div>
        ))
      }
    </div>
  </body>
</html>
<style is:global>
  body {
    max-width: 1200px;
    background: black;
    color: white;
    font-family: "VCR";
    margin: 0;
    padding: 20px;
    background-image: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)),
      url("/assets/color.jpg");
    background-repeat: repeat;
    background-size: 150px;
  }

  @font-face {
    font-family: "GangOfThree";
    src: url("/fonts/go3.ttf");
  }
  @font-face {
    font-family: "VCR";
    src: url("/fonts/vcr.ttf");
  }

  .title_container {
    display: inline-flex;
    flex-wrap: wrap;
    margin-bottom: 20px;
  }

  h1 {
    font-size: 6rem;
    font-weight: 400;
    color: #ffd5ff;
    letter-spacing: 2px;
    text-shadow: 1px 0px 4px #ffd5ff, 2px 0px 4px #17fff7, 3px 0px 3px #ffd5ff,
      2px 0px 3px #d42cca, 2px 3px 15px #d42cca, 2px 0px 15px, 5px 0px 125px,
      20px 0vw 200px #d42cca, 40px 0vw 200px #17fff7;
    will-change: text-shadow, opacity;
    transform: translateZ(0);
    margin: 0;
    display: flex;
    flex-wrap: wrap;
    max-width: 100%;
    font-family: "GangOfThree";
  }

  h2 {
    color: #ffd5ff;
    text-transform: uppercase;
    color: #fff;
    text-shadow: 0 0 3px #3856ff, 0 0 6px #3856ff, 0 0 9px #3856ff,
      0 0 12px #3856ff, 0 0 21px #3856ff, 0 0 24px #3856ff, 0 0 30px #3856ff,
      0 0 45px #3856ff;
    font-size: 45px;
    margin: 0 0 10px 0;
  }

  h3 {
    color: #ffd5ff;
    text-transform: uppercase;
    color: #fff;

    text-shadow: 0 0 3px #ff9900, 0 0 6px #ff9900, 0 0 9px #ff9900,
      0 0 12px #ff9900, 0 0 21px #ff9900, 0 0 24px #ff9900, 0 0 30px #ff9900,
      0 0 45px #ff9900;

    font-size: 30px;
    margin: 0;
  }

  li,
  p {
    color: #ffffff;
    text-shadow: 0 0 5px rgba(255, 192, 203, 0.5),
      0 0 10px rgba(255, 192, 203, 0.5), 0 0 15px rgba(255, 192, 203, 0.5),
      0 0 20px rgba(255, 192, 203, 0.5);
    font-size: 20px;
    line-height: 24px;
    margin: 15px 0;
  }

  a {
    color: #fff;
    text-shadow: 0 0 15px rgba(57, 255, 20, 0.8),
      0 0 25px rgba(57, 255, 20, 0.8), 0 0 35px rgba(57, 255, 20, 0.8),
      0 0 45px rgba(57, 255, 20, 0.8);

    text-transform: uppercase;
    font-style: normal;
    transform: translateZ(0);
    animation: flicker 3.5s linear infinite;
    will-change: text-shadow, opacity;
  }

  #header_name {
    animation: onOff 1.5s infinite;
    color: #42f5e6;
  }

  strong {
    color: #d8a1ff;
    text-shadow: 0 0 15px rgba(213, 28, 255, 0.8),
      0 0 25px rgba(213, 28, 255, 0.8), 0 0 35px rgba(213, 28, 255, 0.8),
      0 0 45px rgba(213, 28, 255, 0.8);
  }
  @keyframes onOff {
    0% {
      opacity: 1; /* Start with full opacity */
      text-shadow: none; /* Remove the neon glow effect */
    }
    5% {
      opacity: 0.1; /* Drop the opacity to half during the first 5% of the animation */
      text-shadow: none; /* Remove the neon glow effect */
    }
    29.99% {
      opacity: 0.1; /* Keep the opacity at half until the 25% mark */
      text-shadow: none; /* Remove the neon glow effect */
    }
    30%,
    99.99% {
      opacity: 1; /* Restore the opacity to full during the next 5% of the aninimation */
      text-shadow: 1px 0px 4px #39ff14, 2px 0px 4px #39ff14, 3px 0px 3px #ffd5ff,
        2px 0px 3px #d42cca, 2px 3px 15px #d42cca, 2px 0px 15px, 5px 0px 125px,
        20px 0vw 200px #d42cca, 40px 0vw 200px #39ff14; /* Add the neon glow effect */
    }
    100% {
      opacity: 1; /* End with full opacity */
      text-shadow: 1px 0px 4px #39ff14, 2px 0px 4px #39ff14, 3px 0px 3px #ffd5ff,
        2px 0px 3px #d42cca, 2px 3px 15px #d42cca, 2px 0px 15px, 5px 0px 125px,
        20px 0vw 200px #d42cca, 40px 0vw 200px #39ff14; /* Add the neon glow effect */
    }
  }

  .social_icon {
    color: #fff;
    font-size: 30px;
    transition: opacity 200ms ease;
    cursor: pointer;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 3px solid #fff;
    margin: 10px;
    padding: 0.4em;
    box-shadow: 0 0 0.2rem #fff, 0 0 0.2rem #fff, 0 0 2rem #bc13fe,
      0 0 0.8rem #bc13fe, 0 0 2.8rem #bc13fe, inset 0 0 1.3rem #bc13fe;
    text-decoration: none;
    border-radius: 100%;
  }

  .social_icon:hover {
    opacity: 0.8;
    box-shadow: 0 0 0.2rem #fff, 0 0 0.2rem #fff, 0 0 2rem #3856ff,
      0 0 0.8rem #3856ff, 0 0 2.8rem #3856ff, inset 0 0 1.3rem #3856ff;
  }

  .social_container {
    display: inline-flex;
    flex-wrap: wrap;
  }

  .blue_border {
    box-shadow: 0 0 0.2rem #fff, 0 0 0.2rem #fff, 0 0 2rem #3856ff,
      0 0 0.8rem #3856ff, 0 0 2.8rem #3856ff, inset 0 0 1.3rem #3856ff;
    border: 1px solid #fff;
    padding: 5px;
  }

  .content {
    margin-bottom: 20px;
    max-width: 900px;
    padding: 15px;
    background: rgba(56, 86, 255, 0.1);
  }

  @keyframes flicker {
    0%,
    19.999%,
    22%,
    62.999%,
    64%,
    64.999%,
    70%,
    100% {
      opacity: 0.99;
    }
    20%,
    21.999%,
    63%,
    63.999%,
    65%,
    69.999% {
      opacity: 0.5;
    }
  }

  .flicker_slow {
    transform: translateZ(0);
    animation: flicker 5s linear infinite;
    will-change: text-shadow, opacity;
  }

  .flicker_medium {
    transform: translateZ(0);
    animation: flicker 3.5s linear infinite;
    will-change: text-shadow, opacity;
  }

  .flicker_fast {
    transform: translateZ(0);
    animation: flicker 2s linear infinite;
    will-change: text-shadow, opacity;
  }

  .section {
    margin-bottom: 100px;
  }
</style>
